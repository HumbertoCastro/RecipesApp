{"ast":null,"code":"var _jsxFileName = \"/home/humberto/Projetos/sd-016-a-project-recipes-app/src/components/Ingredients.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { useHistory } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Ingredients(_ref) {\n  _s();\n\n  let {\n    element\n  } = _ref;\n\n  const verifyCheck = value => {\n    let {\n      cocktails,\n      meals\n    } = JSON.parse(localStorage.getItem('inProgressRecipes'));\n    cocktails = Object.values(cocktails);\n    meals = Object.values(meals);\n    console.log(meals);\n\n    if (meals.some(x => x === value) || cocktails.some(x => x === value)) {\n      return true;\n    }\n\n    return false;\n  };\n\n  const history = useHistory();\n\n  const handleCLick = _ref2 => {\n    let {\n      target\n    } = _ref2;\n    const {\n      value\n    } = target;\n    const {\n      cocktails,\n      meals\n    } = JSON.parse(localStorage.getItem('inProgressRecipes'));\n    let array = [value];\n\n    if (cocktails[element.idMeal] !== undefined) {\n      array = cocktails[element.idMeal];\n      array.push(value);\n    }\n\n    if (history.location.pathname.includes('drinks')) {\n      const newObject = {\n        cocktails: { ...cocktails,\n          [element.idDrink]: array\n        },\n        meals: { ...meals\n        }\n      };\n      localStorage.setItem('inProgressRecipes', JSON.stringify(newObject));\n    } else {\n      const newObject = {\n        cocktails: { ...cocktails\n        },\n        meals: { ...meals,\n          [element.idMeal]: array\n        }\n      };\n      localStorage.setItem('inProgressRecipes', JSON.stringify(newObject));\n      target.checked = true;\n    }\n  };\n\n  const foodIngredient = Object.values(Object.fromEntries(Object.entries(element).filter(_ref3 => {\n    let [key] = _ref3;\n    return key.includes('strIngredient');\n  }))).filter(x => x !== null && x !== '');\n  const foodMeasure = Object.values(Object.fromEntries(Object.entries(element).filter(_ref4 => {\n    let [key] = _ref4;\n    return key.includes('strMeasure');\n  }))).filter(x => x !== null && x !== '');\n  const ing = '-ingredient-name-and-measure';\n\n  const renderIngredients = () => {\n    if (history.location.pathname.includes('/in-progress')) {\n      return foodIngredient.map((x, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        \"data-testid\": `${index}-ingredient-step`,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          name: `${index}-checkbox`,\n          className: \"checkboxes\",\n          onClick: handleCLick,\n          checked: verifyCheck(),\n          value: x\n        }, `${index}-food`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: `${index}-checkbox`,\n          children: x\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this)]\n      }, `${index}-food-ingrediet`, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this));\n    }\n\n    return foodIngredient.map((x, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"li\", {\n        \"data-testid\": `${index}${ing}`,\n        children: x\n      }, `${index}-food`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        \"data-testid\": `${index}${ing}`,\n        children: foodMeasure[index]\n      }, `${index}-`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }, this)]\n    }, `${index}-food-ingrediet`, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }, this));\n  };\n\n  useEffect(() => {\n    renderIngredients();\n  }, []);\n  return renderIngredients();\n}\n\n_s(Ingredients, \"bz2N+u0mX89LO9zOCfVCA9Sa20M=\", false, function () {\n  return [useHistory];\n});\n\n_c = Ingredients;\nexport default Ingredients;\nIngredients.propTypes = {\n  element: PropTypes.shape({\n    element: PropTypes.string.isRequired\n  }).isRequired\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"Ingredients\");","map":{"version":3,"sources":["/home/humberto/Projetos/sd-016-a-project-recipes-app/src/components/Ingredients.jsx"],"names":["React","useEffect","PropTypes","useHistory","Ingredients","element","verifyCheck","value","cocktails","meals","JSON","parse","localStorage","getItem","Object","values","console","log","some","x","history","handleCLick","target","array","idMeal","undefined","push","location","pathname","includes","newObject","idDrink","setItem","stringify","checked","foodIngredient","fromEntries","entries","filter","key","foodMeasure","ing","renderIngredients","map","index","propTypes","shape","string","isRequired"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { useHistory } from 'react-router-dom';\n\nfunction Ingredients({ element }) {\n  const verifyCheck = (value) => {\n    let { cocktails, meals } = JSON.parse(localStorage.getItem('inProgressRecipes'));\n    cocktails = Object.values(cocktails);\n    meals = Object.values(meals);\n    console.log(meals);\n    if (meals.some((x) => x === value) || cocktails.some((x) => x === value)) {\n      return true;\n    }\n    return false;\n  };\n  const history = useHistory();\n  const handleCLick = ({ target }) => {\n    const { value } = target;\n    const { cocktails, meals } = JSON.parse(localStorage.getItem('inProgressRecipes'));\n    let array = [value];\n    if (cocktails[element.idMeal] !== undefined) {\n      array = cocktails[element.idMeal];\n      array.push(value);\n    }\n    if (history.location.pathname.includes('drinks')) {\n      const newObject = {\n        cocktails: {\n          ...cocktails,\n          [element.idDrink]: array,\n        },\n        meals: {\n          ...meals,\n        },\n      };\n      localStorage.setItem('inProgressRecipes', JSON.stringify(newObject));\n    } else {\n      const newObject = {\n        cocktails: {\n          ...cocktails,\n        },\n        meals: {\n          ...meals,\n          [element.idMeal]: array,\n        },\n      };\n      localStorage.setItem('inProgressRecipes', JSON.stringify(newObject));\n      target.checked = true;\n    }\n  };\n  const foodIngredient = Object.values(Object\n    .fromEntries(Object\n      .entries(element)\n      .filter(([key]) => key.includes('strIngredient'))))\n    .filter((x) => x !== null && x !== '');\n  const foodMeasure = Object.values(Object\n    .fromEntries(Object\n      .entries(element)\n      .filter(([key]) => key.includes('strMeasure'))))\n    .filter((x) => x !== null && x !== '');\n  const ing = '-ingredient-name-and-measure';\n  const renderIngredients = () => {\n    if (history.location.pathname.includes('/in-progress')) {\n      return foodIngredient\n        .map((x, index) => (\n          <div\n            key={ `${index}-food-ingrediet` }\n            data-testid={ `${index}-ingredient-step` }\n          >\n            <input\n              type=\"checkbox\"\n              key={ `${index}-food` }\n              name={ `${index}-checkbox` }\n              className=\"checkboxes\"\n              onClick={ handleCLick }\n              checked={ verifyCheck() }\n              value={ x }\n            />\n            <label htmlFor={ `${index}-checkbox` }>{ x }</label>\n          </div>\n        ));\n    }\n    return foodIngredient\n      .map((x, index) => (\n        <div key={ `${index}-food-ingrediet` }>\n          <li key={ `${index}-food` } data-testid={ `${index}${ing}` }>{x}</li>\n          <li\n            key={ `${index}-` }\n            data-testid={ `${index}${ing}` }\n          >\n            {foodMeasure[index]}\n          </li>\n        </div>\n      ));\n  };\n  useEffect(() => {\n    renderIngredients();\n  }, []);\n  return renderIngredients();\n}\n\nexport default Ingredients;\n\nIngredients.propTypes = {\n  element: PropTypes.shape({\n    element: PropTypes.string.isRequired,\n  }).isRequired,\n};\n"]},"metadata":{},"sourceType":"module"}